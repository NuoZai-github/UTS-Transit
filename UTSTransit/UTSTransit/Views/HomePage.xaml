<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:UTSTransit.ViewModels"
             x:Class="UTSTransit.Views.HomePage"
             x:DataType="vm:HomePageViewModel"
             Title="Home">

    <Grid RowDefinitions="Auto, *, Auto" Padding="24" RowSpacing="20">
        
        <!-- Header Section -->
        <Grid ColumnDefinitions="*, Auto">
            <VerticalStackLayout Spacing="4">
                <Label Text="Good Morning," 
                       FontSize="16" 
                       TextColor="{StaticResource TextSecondary}"/>
                <Label Text="Student" 
                       Style="{StaticResource HeaderLabel}"/>
            </VerticalStackLayout>
            
            <!-- Profile/Settings Icon Placeholder -->
            <Border Grid.Column="1" 
                    StrokeShape="RoundRectangle 20" 
                    HeightRequest="40" 
                    WidthRequest="40" 
                    StrokeThickness="0"
                    BackgroundColor="{StaticResource PrimaryLight}"
                    VerticalOptions="Start">
                <Label Text="ðŸ‘¤" 
                       HorizontalOptions="Center" 
                       VerticalOptions="Center"
                       TextColor="{StaticResource Primary}"/>
            </Border>
        </Grid>

        <!-- Main Status Card (Floating Effect) -->
        <Frame Grid.Row="1" VerticalOptions="Center" CornerRadius="24" HasShadow="True" Padding="0">
            <Grid RowDefinitions="200, Auto">
                <!-- Animation Background -->
                <Grid BackgroundColor="{StaticResource PrimaryLight}">
                    <!-- Road -->
                    <BoxView HeightRequest="2" Color="{StaticResource Border}" VerticalOptions="Center" />
                    
                    <!-- Bus -->
                    <Image x:Name="BusImage" 
                           Source="bus_side.png" 
                           HeightRequest="80" 
                           WidthRequest="120" 
                           HorizontalOptions="Start" 
                           VerticalOptions="Center"
                           TranslationY="-10"/>
                    
                    <!-- Stop Sign -->
                    <Image x:Name="StopSign"
                           Source="stop_sign.png"
                           HeightRequest="60"
                           WidthRequest="60"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"
                           IsVisible="False"/>
                    
                    <!-- Zzz -->
                    <Label x:Name="ZzzText"
                           Text="Zzz..."
                           FontSize="32"
                           FontAttributes="Bold"
                           TextColor="{StaticResource Primary}"
                           HorizontalOptions="Center"
                           VerticalOptions="Start"
                           TranslationY="-60"
                           IsVisible="False"/>
                </Grid>

                <!-- Status Info -->
                <VerticalStackLayout Grid.Row="1" Padding="24" Spacing="8" BackgroundColor="{StaticResource Surface}">
                    <Label Text="Current Status" 
                           Style="{StaticResource CardSubtitleLabel}" 
                           HorizontalOptions="Center"/>
                    
                    <Label Text="{Binding StatusText}" 
                           FontSize="20" 
                           FontAttributes="Bold"
                           HorizontalOptions="Center" 
                           HorizontalTextAlignment="Center"
                           TextColor="{StaticResource Primary}"/>
                    
                    <Label Text="{Binding LastUpdatedText}" 
                           FontSize="12" 
                           TextColor="{StaticResource TextSecondary}" 
                           HorizontalOptions="Center"/>
                </VerticalStackLayout>
            </Grid>
        </Frame>

        <!-- Quick Actions -->
        <Grid Grid.Row="2" ColumnDefinitions="*, *" ColumnSpacing="16">
            <Button Text="View Map" 
                    Style="{StaticResource AccentButton}"
                    ImageSource="map_icon.png"/> <!-- Placeholder icon -->
            
            <Button Grid.Column="1" 
                    Text="Schedule" 
                    BackgroundColor="{StaticResource Surface}"
                    TextColor="{StaticResource Primary}"
                    BorderColor="{StaticResource Primary}"
                    BorderWidth="1"/>
        </Grid>
    </Grid>
</ContentPage>
