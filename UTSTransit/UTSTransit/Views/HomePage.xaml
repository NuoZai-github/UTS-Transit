<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:UTSTransit.ViewModels"
             x:Class="UTSTransit.Views.HomePage"
             x:DataType="vm:HomePageViewModel"
             Title="Home">

    <Grid RowDefinitions="Auto, *, Auto" Padding="24">
        
        <!-- Header -->
        <Grid ColumnDefinitions="*, Auto">
            <VerticalStackLayout Spacing="4">
                <Label Text="UTS Transit" 
                       FontSize="20" 
                       FontAttributes="Bold"
                       TextColor="{StaticResource TextPrimary}"/>
                <Label Text="Live Status" 
                       FontSize="14" 
                       TextColor="{StaticResource TextSecondary}"/>
            </VerticalStackLayout>
            
            <!-- Status Indicator Dot -->
            <BoxView Grid.Column="1" 
                     HeightRequest="12" 
                     WidthRequest="12" 
                     CornerRadius="6" 
                     Color="{StaticResource Success}" 
                     VerticalOptions="Center"/>
        </Grid>

        <!-- Animation Area -->
        <Grid Grid.Row="1" VerticalOptions="Center">
            <!-- Road Line -->
            <BoxView HeightRequest="1" Color="{StaticResource Border}" VerticalOptions="Center" />
            
            <!-- Bus Image -->
            <Image x:Name="BusImage" 
                   Source="bus_side.png" 
                   HeightRequest="60" 
                   WidthRequest="100" 
                   HorizontalOptions="Start" 
                   VerticalOptions="Center"
                   TranslationY="-15"/>
            
            <!-- Stop Sign -->
            <Image x:Name="StopSign"
                   Source="stop_sign.png"
                   HeightRequest="60"
                   WidthRequest="60"
                   HorizontalOptions="Center"
                   VerticalOptions="Center"
                   IsVisible="False"/>
            
            <!-- Zzz Text -->
            <Label x:Name="ZzzText"
                   Text="Zzz..."
                   FontSize="24"
                   TextColor="{StaticResource Primary}"
                   HorizontalOptions="Center"
                   VerticalOptions="Start"
                   TranslationY="-50"
                   IsVisible="False"/>
        </Grid>

        <!-- Status Card -->
        <Frame Grid.Row="2" Margin="0,0,0,20">
            <VerticalStackLayout Spacing="8">
                <Label Text="{Binding StatusText}" 
                       FontSize="16" 
                       HorizontalOptions="Center" 
                       HorizontalTextAlignment="Center"
                       TextColor="{StaticResource TextPrimary}"
                       FontAttributes="Bold"/>
                
                <Label Text="{Binding LastUpdatedText}" 
                       FontSize="12" 
                       TextColor="{StaticResource TextSecondary}" 
                       HorizontalOptions="Center"/>
            </VerticalStackLayout>
        </Frame>
    </Grid>
</ContentPage>
